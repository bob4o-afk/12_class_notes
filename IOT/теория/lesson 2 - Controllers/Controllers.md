# Контролери

## Контролери и Процесори

### Комплексност на платката
Комплексността на платката, или колко слоя има, зависи от чипа с най-много крачета – обикновено това е процесорът. Тъй като процесорът обикновено има много сложна архитектура, това изисква допълнителни слоеве на платката за свързване на различните компоненти.

### Разлика между Контролери и Процесори

1. **Процесор (CPU)**:
   - Процесорът е по-мощният от двата (контролер и процесор).
   - Няма вградена памет (RAM) и за да работи, се нуждае от външни компоненти.
   - Необходима е операционна система за изпълнение на задачи и управление на ресурсите.
   - Обикновено е по-скъп и може да работи на високи тактови честоти (например 2GHz) с повече от едно ядро (например 2-ядра).
   - Процесорите за вградени системи (embedded processors) обикновено имат тактови честоти около 2GHz и 2 ядра.

2. **Контролер (MCU)**:
   - Контролерът има вградена памет (RAM) и други основни компоненти, което му позволява да работи самостоятелно.
   - Не се нуждае от външни компоненти като памет или операционна система.
   - Може да се програмира директно, обикновено на по-ниски тактови честоти (например 16MHz) и с едно ядро.
   - Пример за контролер е **ATmega**.

---

## Разлика между SOC, SOM и SBC

1. **SOC (System on a Chip)**:
   - **SOC** е чип, който интегрира всичко необходимо за функционирането на едно устройство (периферия, комуникация и др.).
   - Пример: **ESP32**.
   - SOC е евтино, компактно решение, но изисква потребителят да разработва допълнително, за да се справи с I/O и други функции.

2. **SOM (System on a Module)**:
   - **SOM** е модул, който включва SOC, но с добавена RAM, някои вградени периферии и контролери.
   - Не всички I/O портове могат да бъдат използвани без добавяне на допълнителни компоненти.
   - Пример: **Arduino** (може да бъде грешно написано, но идеята е ясна).

3. **SBC (Single Board Computer)**:
   - **SBC** е пълноценно компютърно решение на една платка с вградени I/O портове и готово за използване.
   - Пример: **Raspberry Pi**.
   - SBC е по-скъп, но предлага възможности за plug-and-play, като всичко е готово за използване веднага.

---

## Как да изберем подходящо устройство?

Изборът на подходящо устройство зависи от различни фактори:

1. **Interfaces (Интерфейси)**: Какви входни/изходни портове и комуникационни интерфейси ви трябват за проекта?
   
2. **Performance (Изпълнение)**: Каква изчислителна мощност ви е необходима за обработка на данни? Какви са изискванията за CPU и RAM?

3. **RAM и Flash (Памет)**: Колко памет ще е необходима за съхранение на данни? Какви са размерите на данните, които трябва да се обработват?

4. **Scalability (Мащабируемост)**: Можете ли да променяте компоненти (например, да добавите по-силен процесор или повече памет) без да променяте целия проект?

5. **Component Grade (Качество на компонента)**: Какъв клас компоненти ви трябват в зависимост от условията на работа (всекидневни условия, индустриални условия, автомобилни, военни и др.)?

6. **Price (Цена)**: Очевидно, цената е важен фактор в избора, но трябва да се балансира с изискванията за изпълнение.

7. **Complexity (Комплексност)**: Какви технически изисквания има проектът? Някои решения може да бъдат по-трудни за проектиране и внедряване.

8. **Power (Енергийна ефективност)**: За IoT устройства, които обикновено работят на батерии, трябва да се оптимизира енергийната консумация. Ниският разход на енергия (Low-Power) е важен, като някои устройства могат да работят в режими с наноампери.

### Начини за намаляване на консумацията на енергия:
1. Намаляване на напрежението (Voltage).
2. Намаляване на тактовата честота (Frequency).
3. Използване на различни модове за икономия на енергия, например:

   - **Low-Power Modes**:
     - **LOWPOWER 0**: CPU и MCLK (основен часовник) са изключени, само периферията е активна.
     - **LOWPOWER 1**: DCO (осцилатор) е изключен.
     - **LOWPOWER 2**: SMCLK (периферни модули) е изключен, но DCO остава активен.
     - **LOWPOWER 3**: SMCLK и DCO са изключени, всички периферии са спрени.
     - **LOWPOWER 4**: Всички компоненти са спрени, освен пиновете за хардуерен прекъсвания.

---

## Температурни условия

Температурните условия също играят роля при избора на компоненти и устройства. Някои устройства са проектирани да работят в широк температурен диапазон, докато други са предназначени само за нормални условия (например в домашна среда). Класовете на компоненти могат да включват:

- **Everyday**: Обикновени условия на работа.
- **Industrial**: Изисквания за по-широк температурен диапазон.
- **Automotive, Military, Aerospace, Medical grade**: Специализирани за работа при екстремни условия.
